---
const { platform, username } = Astro.props;

const socials = {
  github: {
    label: "GitHub",
    url: (u) => `https://github.com/${u}`,
    svg: `<svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
      <path d="M12 .5C5.7.5.5 5.7.5 12c0 5.1 3.3 9.4 7.9 10.9.6.1.8-.3.8-.6v-2.2c-3.2.7-3.9-1.4-3.9-1.4-.6-1.5-1.4-1.9-1.4-1.9-1.1-.8.1-.8.1-.8 1.2.1 1.9 1.2 1.9 1.2 1.1 1.9 2.9 1.4 3.6 1.1.1-.8.4-1.4.7-1.7-2.6-.3-5.4-1.3-5.4-5.8 0-1.3.5-2.4 1.2-3.2-.1-.3-.5-1.6.1-3.2 0 0 1-.3 3.3 1.2a11.3 11.3 0 0 1 6 0c2.3-1.5 3.3-1.2 3.3-1.2.6 1.6.2 2.9.1 3.2.8.8 1.2 1.9 1.2 3.2 0 4.5-2.8 5.5-5.4 5.8.4.4.8 1.1.8 2.2v3.2c0 .3.2.7.8.6A11.5 11.5 0 0 0 23.5 12C23.5 5.7 18.3.5 12 .5z"/>
    </svg>`,
  },

  linkedin: {
    label: "LinkedIn",
    url: (u) => `https://www.linkedin.com/in/${u}/`,
    svg: `<svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
      <path d="M4.98 3.5C3.34 3.5 2 4.84 2 6.48c0 1.62 1.32 2.98 2.94 2.98h.04c1.66 0 2.98-1.36 2.98-2.98C7.96 4.84 6.64 3.5 4.98 3.5zM2.4 20.5h5.2V9.5H2.4v11zM9.6 9.5v11h5.2v-6.1c0-3.2 4.1-3.4 4.1 0v6.1H24v-7.3c0-6.5-7.5-6.3-9.2-3.1V9.5H9.6z"/>
    </svg>`,
  },
};

const key = String(platform ?? "").toLowerCase();
const social = socials[key];

const label = social?.label ?? String(platform ?? "Link");
const href = social ? social.url(username) : "#";
const svg = social?.svg ?? "";
---

<a
  href={href}
  class="social"
  target="_blank"
  rel="noopener noreferrer"
  aria-label={label}
>
  {svg && <span class="icon" set:html={svg} />}
  <span class="label">{label}</span>
</a>

<style>
  .social {
    display: inline-flex;
    align-items: center;
    gap: 0.55rem;
    padding: 0.55rem 0.85rem;

    /* cosmic pill */
    color: rgba(255, 255, 255, 0.92);
    background: rgba(255, 255, 255, 0.04);
    border: 1px solid rgba(229, 231, 235, 0.16);

    text-decoration: none;
    border-radius: 0.65rem;

    transition:
      transform 120ms ease,
      background-color 120ms ease,
      border-color 120ms ease;
  }

  .social:hover,
  .social:focus {
    background: rgba(255, 255, 255, 0.07);
    border-color: rgba(96, 165, 250, 0.6); /* sprinkle-blue tint */
    transform: translateY(-1px);
    outline: none;
  }

  .icon :global(svg) {
    width: 1.05rem;
    height: 1.05rem;
    fill: currentColor;
    display: block;
  }

  .label {
    font-size: 0.95rem;
    line-height: 1;
  }
</style>
