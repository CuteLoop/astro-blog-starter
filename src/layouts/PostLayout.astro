---
import "../styles/global.css";

const { entry } = Astro.props;
const { title, pubDate, description, author, image } = entry.data;

const dateString = pubDate?.toISOString?.().slice(0, 10) ?? "";
---

<main class="container paper">
  <header class="post-header">
    {(dateString || author) && (
      <p class="meta">
        {dateString}{author ? ` â€¢ ${author}` : ""}
      </p>
    )}

    <h1>{title}</h1>

    {description && (
      <p class="meta">
        <em>{description}</em>
      </p>
    )}

    {image?.url && (
      <img
        class="post-hero"
        src={image.url}
        alt={image.alt ?? ""}
        width="900"
        loading="lazy"
      />
    )}
  </header>

  <article class="prose">
    <slot />
  </article>
</main>

<style>
  .post-header {
    margin-bottom: 1.5rem;
  }

  .post-hero {
    margin-top: 1rem;
    border-radius: 0.85rem;
    max-width: 100%;
    height: auto;
    border: 1px solid rgba(15, 23, 42, 0.12);
  }
</style>
